<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>0xc4m3l</title>
        <link>https://example.com/</link>
        <description>Recent content on 0xc4m3l</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>0xc4m3l</copyright>
        <lastBuildDate>Mon, 31 Mar 2025 22:39:42 +0800</lastBuildDate><atom:link href="https://example.com/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>windows å†…æ ¸å¼€å‘ (1)</title>
        <link>https://example.com/p/windows-%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91-1/</link>
        <pubDate>Mon, 31 Mar 2025 22:39:42 +0800</pubDate>
        
        <guid>https://example.com/p/windows-%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91-1/</guid>
        <description>&lt;h1 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»
&lt;/h1&gt;&lt;p&gt;ä¸»è¦é€šè¿‡å­¦ä¹  ã€ŠWindows Kernel Programmingã€‹ï¼Œäº†è§£  windows ç›¸å…³å†…æ ¸æœºåˆ¶ï¼Œè¿›è€Œå®ç°å¯¹åº” EDRï¼ŒDLPèƒ½åŠ›ï¼Œå®ç°windows ä¼ä¸šå®‰å…¨ç›‘æ§ã€‚&lt;/p&gt;
&lt;p&gt;å¯åšä¸ºä¸­æ–‡å­¦ä¹ èµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥ä¹¦ä½¿ç”¨ Cå’ŒC++ä½œä¸ºä»£ç ç¤ºä¾‹: &lt;a class=&#34;link&#34; href=&#34;https://github.com/zodiacon/windowskernelprogrammingbook2e&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/zodiacon/windowskernelprogrammingbook2e&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç¬¬ä¸€ç« -windows-internals-overview&#34;&gt;ç¬¬ä¸€ç«  Windows Internals Overview
&lt;/h1&gt;&lt;p&gt;è¯¥ç« æ˜¯windowsçš„å…³é”®å·¥ä½œæ¦‚å¿µï¼Œéœ€è¦ç†è§£è¿™ä¸€ç« å†…å®¹ï¼Œä¸ºåç»­å­¦ä¹ åšåŸºç¡€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;processes-è¿›ç¨‹&#34;&gt;Processes è¿›ç¨‹
&lt;/h2&gt;&lt;p&gt;æ˜¯ä¸€ä¸ªå®¹å™¨ï¼ˆcontainmentï¼‰å’Œ ç®¡ç†å¯¹è±¡ï¼ˆ management objectï¼‰ï¼Œç¨‹åºçš„è¿è¡Œå®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;çº¿ç¨‹&lt;/code&gt; æ˜¯å®é™…æ‰§è¡Œä»£ç å¹¶å®ç°æŠ€æœ¯æ„ä¹‰ä¸Šè¿è¡Œçš„å®ä½“ã€‚ ï¼ˆæ¯”è¾ƒç»•å£hhh&lt;/p&gt;
&lt;p&gt;åœ¨Windows å†…æ ¸æ¶æ„ä¸­ï¼Œçº¿ç¨‹ï¼ˆthreadï¼‰ä½œä¸ºè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ ¸å¿ƒæ˜¯æ‰§è¡Œä»£ç ç‰‡æ®µæ¥å®ç° â€œè¿è¡Œâ€ çš„å®è´¨ã€‚&lt;/p&gt;
&lt;p&gt;æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯æ‰§è¡Œç¨‹åº&lt;/strong&gt; â€”â€” åŒ…å«åˆå§‹ä»£ç å’Œæ•°æ®ï¼ˆç”¨äºè¿›ç¨‹ä»£ç æ‰§è¡Œï¼‰æŸäº›ç‰¹æ®Šè¿›ç¨‹ï¼ˆå†…æ ¸ç›´æ¥åˆ›å»ºçš„è¿›ç¨‹ï¼‰å¯èƒ½ä¸å­˜åœ¨å¯æ‰§è¡Œçš„æ˜ åƒæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§æœ‰è™šæ‹Ÿåœ°å€ç©ºé—´&lt;/strong&gt; â€”â€” ä¾›è¿›ç¨‹å†…éƒ¨ä»£ç æŒ‰éœ€åˆ†é…å†…å­˜çš„éš”ç¦»åœ°å€åŸŸã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;access token&lt;/strong&gt; ï¼ˆprimary tokenï¼‰ä»¤ç‰Œ â€”â€” å­˜å‚¨è¿›ç¨‹å®‰å…¨ä¸Šä¸‹æ–‡çš„å¯¹è±¡ï¼Œå¹¶ä¸”æä¾›ç»™çº¿ç¨‹ç”¨äºæ‰§è¡Œï¼ˆé™¤éçº¿ç¨‹é€šè¿‡æ¨¡ä»¿ä½¿ç”¨å‡è®¾çš„ä¸åŒä»¤ç‰Œï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§æœ‰å¥æŸ„è¡¨ï¼ˆprivate handle tableï¼‰&lt;/strong&gt; â€”â€” ç”¨äºç®¡ç†è¿›ç¨‹æ‰§è¡Œå¯¹è±¡çš„å¼•ç”¨ï¼ˆäº‹ä»¶ã€ä¿¡å·é‡ã€æ–‡ä»¶ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€ä¸ªæˆ–å¤šä¸ªæ‰§è¡Œçº¿ç¨‹&lt;/strong&gt; â€”â€” å¸¸è§„ç”¨æˆ·æ¨¡å¼è¿›ç¨‹åœ¨åˆ›å»ºæ—¶é»˜è®¤åŒ…å«ä¸€ä¸ªçº¿ç¨‹ï¼ˆæ‰§è¡Œä¼ ç»Ÿçš„main/WinMainå‡½æ•°ï¼‰ã€‚ä¸å«çº¿ç¨‹çš„ç”¨æˆ·æ¨¡å¼è¿›ç¨‹é€šå¸¸æ˜¯æ— ç”¨çš„ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹ä¼šè¢«å†…æ ¸é”€æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¹¦ä¸­æåˆ°çš„ç›¸å…³ç»“æ„å…³ç³»å›¾ï¼š
&lt;img src=&#34;https://example.com/image-20250403224717688.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250403224717688&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PIDï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;process ID ä¸º è¿›ç¨‹çš„å”¯ä¸€æ ‡è¯†ï¼Œåªè¦å†…æ ¸å¯¹è±¡å­˜åœ¨å°±æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚å¦‚æœå†…æ ¸å¯¹è±¡æ¯åï¼Œé‚£ä¹ˆè¿™ä¸ªIDå¯èƒ½ä¼šè¢«åˆ†é…ä¸ªæ–°çš„è¿›ç¨‹ï¼ˆprocess id å¤ç”¨ï¼‰ã€‚è¿›ç¨‹æ–‡ä»¶ä¸èƒ½è®¤ä¸ºæ˜¯è¿›ç¨‹çš„å”¯ä¸€æ ‡è¯†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;virtual-memory-è™šæ‹Ÿå†…å®¹&#34;&gt;Virtual Memory è™šæ‹Ÿå†…å®¹
&lt;/h2&gt;&lt;p&gt;æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰å®ƒè‡ªå·±çš„è™šæ‹Ÿç§æœ‰çº¿æ€§åœ°å€ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;è™šæ‹Ÿåœ°å€ç©ºé—´åˆè¯•ä¸ºç©ºï¼ˆæˆ–è€…æ¥è¿‘ç©ºï¼‰ï¼Œ&lt;strong&gt;å¯æ‰§è¡Œæ˜ åƒå’ŒNtDll.Dllä¼šé¦–å…ˆè¢«æ˜ å°„ï¼ŒéšååŠ è½½æ›´å¤šå­ç³»ç»ŸDLLã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“ä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼Œä¼šåˆ†é…æ›´å¤šç©ºé—´ï¼ŒåŠ è½½æ›´å¤šçš„ DLLsã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè™šæ‹Ÿæœºç©ºé—´æ˜¯ç§æœ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ°å€ç©ºé—´èŒƒå›´ä»é›¶å¼€å§‹ï¼ˆä¸¥æ ¼æ¥è¯´ï¼Œé¦–å°¾å„64KBç©ºé—´æ— æ³•æäº¤ï¼‰ï¼Œå…¶ä¸Šé™å–å†³äºè¿›ç¨‹&amp;quot;ä½å®½&amp;quot;ï¼ˆ32ä½æˆ–64ä½ï¼‰ä¸æ“ä½œç³»ç»Ÿä½å®½çš„é…åˆå…³ç³»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸºç¡€ä»‹ç»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;32ä½Windows ç³»ç»Ÿä¸Šçš„ 32ä½è¿›ç¨‹ï¼Œé»˜è®¤åœ°å€ç©ºé—´ä½ 2GBã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;32ä½Windows ç³»ç»Ÿä¸Šçš„ 32ä½è¿›ç¨‹ï¼Œè®¾ç½® &lt;em&gt;increase user virtual address space&lt;/em&gt; æœ€å¤§åˆ†é… 3GBã€‚ä¸”å¿…é¡»æ»¡è¶³è¿›ç¨‹çš„å¯æ‰§è¡Œç¨‹åºPEå¤´è®¾ç½® &lt;code&gt;LARGEADDRESSAWARE&lt;/code&gt;é“¾æ¥å™¨æ ‡å¿—ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;64ä½ç¨‹åºï¼ˆ64ä½winä¸Šï¼‰ï¼Œè¿™ä¸ªåœ°å€ä¸º 8TBï¼ˆwin8 æˆ– æ›´æ—©ç‰ˆæœ¬ï¼‰æˆ–è€… 128TBï¼ˆwin 8.1 æˆ–ä¹‹åç‰ˆæœ¬å‘¢ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;32ä½ç¨‹åºï¼ˆ64ä½winä¸Šï¼‰ï¼Œå¯æ‰§è¡Œç¨‹åºPEå¤´è®¾ç½® &lt;code&gt;LARGEADDRESSAWARE&lt;/code&gt;é“¾æ¥å™¨æ ‡å¿—ï¼Œåœ°å€ç©ºé—´ä¸º 4GBï¼Œå¦è€…è¿˜æ˜¯2GBã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆæ˜¯ 2Gï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;â€‹	å› ä¸ºåœ¨32ä½ä¸­ï¼Œ2GBåœ°å€ç©ºé—´ä»…éœ€31ä½å¯»å€ï¼Œæœ€é«˜æœ‰æ•ˆä½ï¼ˆMSB/bit 31ï¼‰åŸå¯ä¾›åº”ç”¨ç¨‹åºè‡ªç”±ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2GBç©ºé—´ï¼ˆ0x00000000-0x7FFFFFFFï¼‰ï¼šbit 31å§‹ç»ˆä¸º0&lt;/li&gt;
&lt;li&gt;æ‰©å±•ç©ºé—´ï¼ˆ0x80000000-0xFFFFFFFFï¼‰ï¼šbit 31=1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è™šæ‹Ÿåœ°å€ä¸ºç›¸å¯¹çš„ï¼Œå’Œç‰©ç†å†…å­˜ï¼ˆRAMï¼‰é—´æ¥æ˜ å°„ã€‚ä¸”è™šæ‹Ÿæ˜¯ä»æ‰§è¡Œè§’åº¦çœ‹ï¼Œè‹¥å†…å­˜å·²ç»æ˜ å°„åˆ°RAMï¼Œé‚£ä¹ˆCPUä¼šåœ¨è®¿é—®æ•°æ®ä¹‹å‰å®Œæˆè™šæ‹Ÿåˆ°ç‰©ç†åœ°å€çš„è½¬æ¢ï¼›è‹¥å†…å­˜æœªé©»ç•™ï¼Œç”±è½¬æ¢è¡¨æ¡ç›®ä¸­çš„æ ‡å¿—ä½æŒ‡ç¤ºï¼‰ï¼ŒCPUå°†è§¦å‘ç¼ºé¡µå¼‚å¸¸ï¼Œä½¿å†…å­˜ç®¡ç†å™¨çš„ç¼ºé¡µå¤„ç†ç¨‹åºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»å¯¹åº”æ–‡ä»¶è·å–æ•°æ®ï¼ˆå½“ç¼ºé¡µæœ‰æ•ˆæ—¶ï¼‰&lt;/li&gt;
&lt;li&gt;å¤åˆ¶åˆ°RAM&lt;/li&gt;
&lt;li&gt;æ›´æ–°æ˜ å°„è¯¥ç¼“å†²åŒºçš„é¡µè¡¨é¡¹&lt;/li&gt;
&lt;li&gt;é€šçŸ¥CPUé‡è¯•æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è™šæ‹Ÿã€ç‰©ç†åœ°å€æ˜ å°„å¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250403231103991.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250403231103991&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å†…å­˜çš„åŸºæœ¬ç®¡ç†å•ä½ä¸º &lt;strong&gt;é¡µ page&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å†…å­˜ç›¸å…³çš„å±æ€§ï¼Œå‡ä»¥é¡µä¸ºå•ä½è¿›è¡Œç®¡ç†ï¼ŒåŒ…å« ä¿æŠ¤æ ‡å¿—æˆ–çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;é¡µå¤§å°ä¸CPUæ¶æ„æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;Windowsä¸­æ ‡å‡†é¡µçš„å¤§å°ä¸º 4KBã€‚&lt;/p&gt;
&lt;p&gt;winè¿˜æ”¯æŒå¤§é¡µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;x86/x64/ARM64æ¶æ„&lt;/strong&gt;ï¼š2MB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARM32æ¶æ„&lt;/strong&gt;ï¼š4MB&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶å®ç°åŸç†æ˜¯é€šè¿‡é¡µç›®å½•é¡¹ï¼ˆPDEï¼‰ç›´æ¥æ˜ å°„å¤§é¡µï¼Œç»•è¿‡é¡µè¡¨å±‚çº§ã€‚è¿™ç§è®¾è®¡å¸¦æ¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ›´å¿«çš„åœ°å€è½¬æ¢&lt;/strong&gt;ï¼ˆå‡å°‘ä¸€æ¬¡é¡µè¡¨æŸ¥è¯¢ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ›´é«˜çš„TLBå‘½ä¸­ç‡&lt;/strong&gt;ï¼ˆå•ä¸ªTLBæ¡ç›®å¯è¦†ç›–æ›´å¤§å†…å­˜èŒƒå›´ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å¤§é¡µæœ‰ä»€ä¹ˆç¼ºç‚¹å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤§é¡µé¢éœ€è¦åœ¨RAMä¸­æœ‰è¿ç»­çš„å†…å­˜ï¼Œå¦‚æœå†…å­˜ç´§å¼ æˆ–éå¸¸ç¢ç‰‡åŒ–ï¼Œè¿™å¯èƒ½ä¼šå¤±è´¥ã€‚&lt;/li&gt;
&lt;li&gt;å¤§é¡µé¢æ€»æ˜¯ä¸å¯åˆ†é¡µçš„ã€‚&lt;/li&gt;
&lt;li&gt;åªèƒ½ä½¿ç”¨è¯»/å†™ä¿æŠ¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨ win10 å’Œ win server 2016 ä¸­ï¼Œæœ‰å·¨é¡µçš„æœºåˆ¶ï¼Œæ”¯æŒ 1GBã€‚å¦‚æœåˆ†é…çš„å¤§å°è‡³å°‘ä¸º1 GBï¼Œåˆ™ä¼šè‡ªåŠ¨å¯¹å¤§é¡µé¢ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œå¹¶ä¸”è¯¥å¤§å°å¯ä»¥å®šä½ä¸ºRAMä¸­çš„è¿ç»­å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Page State&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è™šæ‹Ÿå†…å­˜ä¸­çš„æ¯ä¸ªä¹Ÿéƒ½æœ‰ä¸‹é¢ä¸‰ç§çŠ¶æ€ä¸­çš„ä¸€ç§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. ç©ºé—²çŠ¶æ€ï¼ˆFreeï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼š
é¡µé¢å®Œå…¨æœªåˆ†é…ï¼Œæ— ä»»ä½•æœ‰æ•ˆå†…å®¹ã€‚è®¿é—®æ­¤ç±»é¡µé¢å°†è§¦å‘&lt;strong&gt;è®¿é—®è¿è§„å¼‚å¸¸&lt;/strong&gt;ï¼ˆ&lt;code&gt;ACCESS_VIOLATION&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¸å‹åœºæ™¯&lt;/strong&gt;ï¼š
æ–°åˆ›å»ºè¿›ç¨‹çš„ç»å¤§å¤šæ•°é¡µé¢åˆå§‹çŠ¶æ€ä¸º Freeã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…æ ¸æ•°æ®ç»“æ„&lt;/strong&gt;ï¼š
é€šè¿‡ &lt;code&gt;MMFREE_POOL_ENTRY&lt;/code&gt; ç»“æ„ç»´æŠ¤ç©ºé—²é¡µé“¾è¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2. å·²æäº¤çŠ¶æ€ï¼ˆCommittedï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼š
é¡µé¢å·²åˆ†é…ä¸”å¯æ­£å¸¸è®¿é—®ï¼ˆå‰ææ˜¯ä¿æŠ¤å±æ€§åŒ¹é…ï¼Œä¾‹å¦‚å†™å…¥åªè¯»é¡µä»ä¼šè§¦å‘å¼‚å¸¸ï¼‰ã€‚
æäº¤é¡µå¯èƒ½æ˜ å°„åˆ°ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç‰©ç†å†…å­˜ï¼ˆRAMï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶æ˜ å°„&lt;/strong&gt;ï¼ˆå¦‚é¡µé¢æ–‡ä»¶ã€å†…å­˜æ˜ å°„æ–‡ä»¶ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3. ä¿ç•™çŠ¶æ€ï¼ˆReservedï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼š
é¡µé¢æœªæäº¤ï¼Œä½†è™šæ‹Ÿåœ°å€èŒƒå›´è¢«é¢„ç•™ï¼Œç¦æ­¢å…¶ä»–åˆ†é…å™¨å ç”¨ã€‚
&lt;strong&gt;CPUè§†è§’&lt;/strong&gt;ï¼šä¸ Free çŠ¶æ€è¡Œä¸ºä¸€è‡´ï¼ˆè®¿é—®è§¦å‘å¼‚å¸¸ï¼‰ï¼Œä½†åœ°å€ç©ºé—´è¢«é”å®šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒç”¨é€”&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ç»´æŠ¤è™šæ‹Ÿåœ°å€è¿ç»­æ€§ï¼ˆå¦‚çº¿ç¨‹æ ˆçš„æ¸è¿›å¼æäº¤ï¼‰&lt;/li&gt;
&lt;li&gt;å‡å°‘ç‰©ç†å†…å­˜å ç”¨ï¼ˆå»¶è¿Ÿæäº¤ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;system-memory&#34;&gt;System Memory
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·æ¨¡å¼åˆ†åŒº ï¼ˆUser-mode spaceï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†…æ ¸æ¨¡å¼åˆ†åŒºï¼ˆUser-mode spaceï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ“ä½œç³»ç»Ÿä¹Ÿå¿…é¡»é©»ç•™åœ¨æŸä¸ªåœ°æ–¹â€”â€”è¿™ä¸ªåœ°æ–¹æ˜¯ç³»ç»Ÿæ”¯æŒçš„æœ€é«˜åœ°å€èŒƒå›´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æ²¡æœ‰è®¾ç½® &lt;em&gt;increase user virtual address space&lt;/em&gt; çš„32ä½winç³»ç»Ÿä¸Šï¼Œè™šæ‹Ÿç©ºé—´ä¸Šéƒ¨åˆ† 2GB  0x80000000 to 0xFFFFFFFF&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœè®¾ç½® &lt;em&gt;increase user virtual address space&lt;/em&gt; çš„32ä½winç³»ç»Ÿï¼Œ 3GBï¼Œå¯¹åº”çš„åœ°å€ä¸º 0xC0000000 to 0xFFFFFFFF&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;64ä½çš„ Windows 8, Server 2012 and earlierï¼Œä¸º 8TB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;64ä½çš„ Windows 8.1, Server 2012 R2 and later, ä¸º128TB&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;user process å’Œ System space å¦‚å›¾ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250403235123204.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250403235123204&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿç©ºé—´å’Œè¿›ç¨‹æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œå®ƒæ˜¯ä¸ºç³»ç»Ÿæ€»çš„æ‰€æœ‰è¿›ç¨‹æœåŠ¡çš„ç›¸åŒé©±åŠ¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿç©ºé—´åœ°å€ä¸æ˜¯ç›¸å¯¹çš„ï¼Œå¯¹äºè¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çœ‹èµ·æ¥éƒ½æ˜¯ç›¸åŒçš„ï¼Œå½“ç„¶ï¼Œä»ç”¨æˆ·æ¨¡å¼åˆ°ç³»ç»Ÿç©ºé—´çš„å®é™…è®¿é—®ä¼šå¯¼è‡´è®¿é—®å†²çªå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç³»ç»Ÿç©ºé—´æ˜¯å†…æ ¸æœ¬èº«ã€ç¡¬ä»¶æŠ½è±¡å±‚(HAL)ä»¥åŠå·²åŠ è½½çš„å†…æ ¸é©±åŠ¨ç¨‹åºæ‰€åœ¨çš„åŒºåŸŸã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·æ¨¡å¼è¿›ç¨‹åœ¨å…¶ç”Ÿå‘½å‘¨æœŸç»“æŸåä¸ä¼šç•™ä¸‹ä»»ä½•èµ„æºæ³„æ¼â€”â€”å†…æ ¸ä¼šè´Ÿè´£å…³é—­å’Œé‡Šæ”¾å·²ç»ˆæ­¢è¿›ç¨‹çš„æ‰€æœ‰ç§æœ‰èµ„æº(åŒ…æ‹¬å…³é—­æ‰€æœ‰å¥æŸ„å’Œé‡Šæ”¾æ‰€æœ‰ç§æœ‰å†…å­˜)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;threads-çº¿ç¨‹&#34;&gt;Threads çº¿ç¨‹
&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯ä»£ç è¿è¡Œçš„å®é™…å®ä½“ï¼Œçº¿ç¨‹åŒ…å«åœ¨è¿›ç¨‹ä¸­ï¼Œä½¿ç”¨è¿›ç¨‹å…¬å¼€çš„èµ„æºæ¥å®Œæˆå·¥ä½œï¼ˆä¾‹å¦‚è™šæ‹Ÿå†…å­˜å’Œå†…æ ¸å¯¹è±¡çš„å¥æŸ„ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰å¯¹åº”è¿è¡Œæ¨¡å¼ï¼Œç”¨æˆ·æ¨¡å¼å’Œå†…æ ¸æ¨¡å¼&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒåŒ…å«å¯„å­˜å™¨å’Œè¿è¡ŒçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªæˆ–ä¸¤ä¸ªstackï¼Œç”¨äºæœ¬åœ°å˜é‡åˆ†é…å’Œè°ƒç”¨ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;Thread Local Storage ï¼ˆTLSï¼‰ï¼Œæä¾›äº†ä¸€ç§ä½¿ç”¨ç»Ÿä¸€è®¿é—®è¯­ä¹‰å­˜å‚¨çº¿ç¨‹ç§æœ‰æ•°æ®çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;Base priority and a current (dynamic) priority.&lt;/li&gt;
&lt;li&gt;å¤„ç†å™¨äº²å’Œæ€§ï¼ŒæŒ‡ç¤ºçº¿ç¨‹å…è®¸åœ¨å“ªä¸ªå¤„ç†å™¨ä¸Šè¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çº¿ç¨‹å¸¸è§çŠ¶æ€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Running&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ready&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Waiting&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çº¿ç¨‹çŠ¶æ€ç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250405195947162.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250405195947162&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. å †æ ˆçš„æ ¸å¿ƒåŠŸèƒ½&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨å†…å®¹&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å‡½æ•°è°ƒç”¨æ—¶çš„è¿”å›åœ°å€&lt;/li&gt;
&lt;li&gt;å±€éƒ¨å˜é‡&lt;/li&gt;
&lt;li&gt;éƒ¨åˆ†æ¶æ„ä¸­ä¼ é€’çš„å‡½æ•°å‚æ•°ï¼ˆå¦‚x86ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰§è¡Œä¾èµ–&lt;/strong&gt;ï¼šçº¿ç¨‹æ‰§è¡ŒæœŸé—´å¿…é¡»ä¾èµ–å †æ ˆå®Œæˆå‡½æ•°è°ƒç”¨é“¾å’Œå±€éƒ¨æ•°æ®ç®¡ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2. åŒå †æ ˆè®¾è®¡ï¼ˆç”¨æˆ·æ€ä¸å†…æ ¸æ€ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…æ ¸å †æ ˆï¼ˆKernel Stackï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½ç½®&lt;/strong&gt;ï¼šå§‹ç»ˆä½äºå†…æ ¸ç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é©»ç•™æ€§&lt;/strong&gt;ï¼šçº¿ç¨‹å¤„äº&lt;strong&gt;è¿è¡Œ/å°±ç»ªçŠ¶æ€&lt;/strong&gt;æ—¶ï¼Œå¼ºåˆ¶é©»ç•™RAMï¼ˆä¸å¯æ¢å‡ºï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é»˜è®¤å¤§å°&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;32ä½ç³»ç»Ÿï¼š12 KB&lt;/li&gt;
&lt;li&gt;64ä½ç³»ç»Ÿï¼š24 KB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;ï¼šå›ºå®šå¤§å°ï¼Œæ— åŠ¨æ€æ‰©å±•æœºåˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·å †æ ˆï¼ˆUser Stackï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½ç½®&lt;/strong&gt;ï¼šè¿›ç¨‹ç”¨æˆ·ç©ºé—´å†…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é©»ç•™æ€§&lt;/strong&gt;ï¼šå¯è¢«é¡µæ–‡ä»¶æ¢å‡ºï¼ˆä¸æ™®é€šç”¨æˆ·å†…å­˜è¡Œä¸ºä¸€è‡´ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é»˜è®¤ä¸Šé™&lt;/strong&gt;ï¼šé€šå¸¸å¯æ‰©å±•è‡³1 MBã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€æ‰©å±•æœºåˆ¶&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åˆå§‹æäº¤&lt;/strong&gt;ï¼šä»…æäº¤å°‘é‡å†…å­˜ï¼ˆå¦‚1ä¸ªé¡µé¢ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¿æŠ¤é¡µ&lt;/strong&gt;ï¼šç›¸é‚»ä¸‹ä¸€é¡µæ ‡è®°ä¸º&lt;code&gt;PAGE_GUARD&lt;/code&gt;ï¼Œè§¦å‘è®¿é—®å¼‚å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŒ‰éœ€æ‰©å±•&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹è®¿é—®ä¿æŠ¤é¡µæ—¶è§¦å‘ç¼ºé¡µå¼‚å¸¸â†’å†…å­˜ç®¡ç†å™¨æäº¤æ–°é¡µâ†’æ›´æ–°ä¿æŠ¤é¡µä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¿ç•™ç©ºé—´&lt;/strong&gt;ï¼šæœªä½¿ç”¨çš„åœ°å€ç©ºé—´ä»…ä¿ç•™ï¼ˆä¸å ç”¨ç‰©ç†å†…å­˜ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3. å¤šçº¿ç¨‹ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¿›ç¨‹A&lt;/strong&gt;ï¼šåŒ…å«çº¿ç¨‹1ã€çº¿ç¨‹2ï¼ˆå„è‡ªç‹¬ç«‹çš„ç”¨æˆ·å †æ ˆï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¿›ç¨‹B&lt;/strong&gt;ï¼šåŒ…å«çº¿ç¨‹3ï¼ˆå †æ ˆä¸å…¶ä»–è¿›ç¨‹éš”ç¦»ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250420140235262.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250420140235262&#34;
	
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;4. è®¾è®¡ä¼˜åŠ¿&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜æ•ˆç‡&lt;/strong&gt;ï¼šé¿å…æå‰æäº¤å…¨éƒ¨å †æ ˆç©ºé—´ï¼ˆå¦‚1 MBä»…ä¿ç•™è™šæ‹Ÿåœ°å€ï¼ŒæŒ‰éœ€åˆ†é…ç‰©ç†é¡µï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨æ€§&lt;/strong&gt;ï¼šä¿æŠ¤é¡µæœºåˆ¶é˜²æ­¢å †æ ˆæº¢å‡ºç ´åç›¸é‚»å†…å­˜åŒºåŸŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Windowså¤§å¤šæ•°æƒ…å†µä¸‹ ä½¿ç”¨ ä¸‰ä¸ªä¿æŠ¤é¡µ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250420192049166.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250420192049166&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é»˜è®¤å€¼ç”±PEå¤´å†³å®š&lt;/strong&gt;
çº¿ç¨‹ç”¨æˆ·æ ˆçš„é»˜è®¤&lt;strong&gt;ä¿ç•™å¤§å°&lt;/strong&gt;å’Œ&lt;strong&gt;åˆå§‹æäº¤å¤§å°&lt;/strong&gt;ç”±å¯æ‰§è¡Œæ–‡ä»¶çš„PEå¤´å®šä¹‰ã€‚è¿›ç¨‹çš„&lt;strong&gt;ä¸»çº¿ç¨‹&lt;/strong&gt;å¿…é¡»ä½¿ç”¨è¿™äº›é»˜è®¤å€¼ï¼Œè€Œå…¶ä»–çº¿ç¨‹è‹¥ä¸æŒ‡å®šå‚æ•°ï¼Œä¹Ÿä¼šç»§æ‰¿PEå¤´çš„é»˜è®¤è®¾ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çº¿ç¨‹åˆ›å»ºæ—¶å¯è‡ªå®šä¹‰å †æ ˆå¤§å°&lt;/strong&gt;
é€šè¿‡&lt;code&gt;CreateThread&lt;/code&gt;ç­‰å‡½æ•°åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œå¯&lt;strong&gt;å•ç‹¬æŒ‡å®šåˆå§‹æäº¤å¤§å°æˆ–ä¿ç•™å¤§å°&lt;/strong&gt;ï¼ˆéœ€é…åˆæ ‡å¿—ä½é€‰æ‹©ï¼‰ï¼Œè‹¥ä¼ 0åˆ™å›é€€åˆ°PEå¤´é»˜è®¤å€¼ã€‚ä¸»çº¿ç¨‹çš„å †æ ˆå¤§å°ä¸å¯è‡ªå®šä¹‰ï¼Œå§‹ç»ˆé‡‡ç”¨PEå¤´è®¾å®šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‡½æ•°CreateThreadå’ŒCreateRemoteThreadï¼ˆExï¼‰åªå…è®¸æŒ‡å®šå †æ ˆå¤§å°çš„å•ä¸ªå€¼ï¼Œå¯ä»¥æ˜¯æäº¤çš„æˆ–ä¿ç•™çš„å¤§å°ï¼Œä½†ä¸èƒ½ä¸¤è€…éƒ½æŒ‡å®šã€‚æœ¬æœºï¼ˆæœªè®°å½•ï¼‰å‡½æ•°NtCreateThreadExå…è®¸æŒ‡å®šè¿™ä¸¤ä¸ªå€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…³é”®ç‚¹æ€»ç»“è¡¨&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;å†…æ ¸å †æ ˆ&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ç”¨æˆ·å †æ ˆ&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ç©ºé—´å½’å±&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å†…æ ¸åœ°å€ç©ºé—´&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ç”¨æˆ·è¿›ç¨‹åœ°å€ç©ºé—´&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ç‰©ç†å†…å­˜é©»ç•™&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å§‹ç»ˆé©»ç•™RAM&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å¯è¢«æ¢å‡º&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;å¤§å°&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å›ºå®šï¼ˆ12/24 KBï¼‰&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;åŠ¨æ€æ‰©å±•ï¼ˆé»˜è®¤ä¸Šé™1 MBï¼‰&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;æ‰©å±•æœºåˆ¶&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ä¸æ”¯æŒæ‰©å±•&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;ä¿æŠ¤é¡µè§¦å‘çš„æŒ‰éœ€æäº¤&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;å¤šçº¿ç¨‹å…±äº«&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;åŒä¸€è¿›ç¨‹çš„çº¿ç¨‹é—´éš”ç¦»&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;system-services-ç³»ç»ŸæœåŠ¡&#34;&gt;System Services ç³»ç»ŸæœåŠ¡
&lt;/h2&gt;&lt;p&gt;åº”ç”¨ç¨‹åºéœ€è¦æ‰§è¡Œå„ç§ä¸çº¯è®¡ç®—æ€§çš„æ“ä½œï¼Œä¾‹å¦‚åˆ†é…å†…å­˜ã€æ‰“å¼€æ–‡ä»¶ã€åˆ›å»ºçº¿ç¨‹ç­‰ã€‚è¿™äº›æ“ä½œæœ€ç»ˆåªèƒ½ç”±åœ¨å†…æ ¸æ¨¡å¼ä¸‹è¿è¡Œçš„ä»£ç æ‰§è¡Œã€‚é‚£ä¹ˆç”¨æˆ·æ¨¡å¼ä»£ç å¦‚ä½•èƒ½å¤Ÿæ‰§è¡Œè¿™äº›æ“ä½œå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¾‹å­ï¼šä½¿ç”¨ notepad ä½¿ç”¨File / Openèœå•è¯·æ±‚æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. ç”¨æˆ·æ€APIè°ƒç”¨é“¾&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;**åº”ç”¨ç¨‹åºï¼ˆå¦‚Notepadï¼‰**è°ƒç”¨ &lt;strong&gt;&lt;code&gt;CreateFile&lt;/code&gt;&lt;/strong&gt;ï¼ˆæ–‡æ¡£åŒ–çš„Windows APIï¼‰ï¼Œè¯¥å‡½æ•°ä½äº &lt;strong&gt;&lt;code&gt;kernel32.dll&lt;/code&gt;&lt;/strong&gt;ï¼ˆWindowså­ç³»ç»ŸDLLï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®ç‚¹&lt;/strong&gt;ï¼š&lt;code&gt;CreateFile&lt;/code&gt; ä»åœ¨&lt;strong&gt;ç”¨æˆ·æ¨¡å¼&lt;/strong&gt;ä¸‹è¿è¡Œï¼Œæ— æ³•ç›´æ¥æ“ä½œç¡¬ä»¶æˆ–æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;CreateFile&lt;/code&gt;&lt;/strong&gt; åœ¨å‚æ•°æ ¡éªŒåï¼Œè°ƒç”¨ &lt;strong&gt;&lt;code&gt;NtCreateFile&lt;/code&gt;&lt;/strong&gt;ï¼ˆå®é™…æ‰§è¡Œæ–‡ä»¶æ“ä½œçš„åº•å±‚å‡½æ•°ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;NtCreateFile&lt;/code&gt;&lt;/strong&gt; ä½äº &lt;strong&gt;&lt;code&gt;NTDLL.dll&lt;/code&gt;&lt;/strong&gt;ï¼ˆWindows &lt;strong&gt;Native API&lt;/strong&gt; çš„å®ç°å±‚ï¼‰ï¼Œæ˜¯ç”¨æˆ·æ¨¡å¼ä¸‹æœ€æ¥è¿‘å†…æ ¸çš„æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼š&lt;code&gt;NTDLL.dll&lt;/code&gt; æä¾›çš„Native APIæ˜¯Windowså†…æ ¸çš„â€œé—¨é¢â€ï¼Œä¸“ä¸ºç³»ç»Ÿè°ƒç”¨ï¼ˆsyscallï¼‰è®¾è®¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2. ç”¨æˆ·æ€åˆ°å†…æ ¸æ€çš„åˆ‡æ¢æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿè°ƒç”¨ç¼–å·ï¼ˆService Numberï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NtCreateFile&lt;/code&gt; åœ¨è§¦å‘å†…æ ¸åˆ‡æ¢å‰ï¼Œä¼šå°†ä¸€ä¸ª&lt;strong&gt;ç³»ç»ŸæœåŠ¡ç¼–å·&lt;/strong&gt;ï¼ˆå”¯ä¸€æ ‡è¯†è¯·æ±‚çš„æ“ä½œï¼‰å­˜å…¥CPUå¯„å­˜å™¨ï¼ˆx86/x64æ¶æ„ä¸‹ä¸º &lt;strong&gt;EAX&lt;/strong&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹æ®ŠCPUæŒ‡ä»¤&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;x86æ¶æ„&lt;/strong&gt;ï¼šæ‰§è¡Œ &lt;strong&gt;&lt;code&gt;sysenter&lt;/code&gt;&lt;/strong&gt; æŒ‡ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;x64æ¶æ„&lt;/strong&gt;ï¼šæ‰§è¡Œ &lt;strong&gt;&lt;code&gt;syscall&lt;/code&gt;&lt;/strong&gt; æŒ‡ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šé€šè¿‡ç¡¬ä»¶æŒ‡ä»¤å¼ºåˆ¶åˆ‡æ¢åˆ°&lt;strong&gt;å†…æ ¸æ¨¡å¼&lt;/strong&gt;ï¼Œå¹¶è·³è½¬åˆ°å†…æ ¸é¢„å®šä¹‰çš„&lt;strong&gt;ç³»ç»ŸæœåŠ¡åˆ†å‘å™¨&lt;/strong&gt;ï¼ˆSystem Service Dispatcherï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…æ ¸å“åº”&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å†…æ ¸æ ¹æ®EAXä¸­çš„ç¼–å·ï¼Œå®šä½åˆ°å¯¹åº”çš„å†…æ ¸å‡½æ•°ï¼ˆå¦‚æ–‡ä»¶ç®¡ç†ã€è®¾å¤‡é©±åŠ¨ç­‰ï¼‰ï¼Œå®Œæˆå®é™…æ“ä½œï¼ˆå¦‚æ‰“å¼€æ–‡ä»¶ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250420201127353.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250420201127353&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿›åº¦å†…æ ¸å±‚æ—¶ï¼Œä½¿ç”¨ç³»ç»ŸæœåŠ¡åˆ†å‘å™¨ï¼ˆSystem Service Dispatcherï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“CPUé€šè¿‡&lt;code&gt;syscall&lt;/code&gt;/&lt;code&gt;sysenter&lt;/code&gt;è¿›å…¥å†…æ ¸æ¨¡å¼åï¼Œæ§åˆ¶æƒäº¤ç»™&lt;strong&gt;ç³»ç»ŸæœåŠ¡åˆ†å‘å™¨&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;è·å– EAX å¯„å­˜å¤„ä¿å­˜çš„ ç³»ç»ŸæœåŠ¡ç¼–å·ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢SSDTè·å–å¯¹åº”çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°æŒ‡é’ˆã€‚&lt;/li&gt;
&lt;li&gt;è·³è½¬åˆ°å¯¹åº” åœ°å€æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è°ƒç”¨å®Œæˆè¿”å›ç”¨æˆ·æ¨¡å¼ã€‚
&lt;ul&gt;
&lt;li&gt;CPUé€šè¿‡&lt;code&gt;sysexit&lt;/code&gt;ï¼ˆx86ï¼‰æˆ–&lt;code&gt;sysret&lt;/code&gt;ï¼ˆx64ï¼‰æŒ‡ä»¤&lt;strong&gt;è¿”å›ç”¨æˆ·æ¨¡å¼&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹ç»§ç»­æ‰§è¡Œ&lt;code&gt;syscall&lt;/code&gt;/&lt;code&gt;sysenter&lt;/code&gt;ä¹‹åçš„æŒ‡ä»¤ï¼ˆå³&lt;code&gt;NTDLL.dll&lt;/code&gt;ä¸­çš„åç»­ä»£ç ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼é€šè¿‡å¯„å­˜å™¨ï¼ˆå¦‚EAXï¼‰æˆ–æ ˆä¼ é€’å›ç”¨æˆ·æ€ï¼Œæœ€ç»ˆç”±&lt;code&gt;CreateFile&lt;/code&gt;è¿”å›ç»™åº”ç”¨ç¨‹åºï¼ˆå¦‚Notepadï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;general-system-architecture-ç³»ç»Ÿæ¶æ„&#34;&gt;General System Architecture ç³»ç»Ÿæ¶æ„
&lt;/h2&gt;&lt;p&gt;ç³»ç»Ÿæ¶æ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250420203107898.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250420203107898&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹åº”è§£é‡Š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h4 id=&#34;ç”¨æˆ·è¿›ç¨‹user-processes&#34;&gt;&lt;strong&gt;ç”¨æˆ·è¿›ç¨‹ï¼ˆUser Processesï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	åŸºäºå¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	è¿è¡Œåœ¨ç”¨æˆ·æ¨¡å¼ï¼Œæ— æ³•ç›´æ¥è®¿é—®ç¡¬ä»¶æˆ–å†…æ ¸èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;â€‹	é€šè¿‡è°ƒç”¨å­ç³»ç»ŸDLL æˆ– Native API ä¸ æ“ä½œç³»ç»Ÿäº¤äº’&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h4 id=&#34;å­ç³»ç»Ÿdllsubsystem-dlls&#34;&gt;&lt;strong&gt;å­ç³»ç»ŸDLLï¼ˆSubsystem DLLsï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;å®ç°winå­ç³»ç»Ÿ API çš„åŠ¨æ€é“¾æ¥åº“ï¼Œæä¾›å†…æ ¸åŠŸèƒ½çš„å°è£…ã€‚&lt;/p&gt;
&lt;p&gt;æä¾›&lt;strong&gt;å®˜æ–¹æ–‡æ¡£åŒ–çš„Windows API&lt;/strong&gt;ï¼ˆå¦‚&lt;code&gt;CreateFile&lt;/code&gt;ã€&lt;code&gt;MessageBox&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;kernel32.dllï¼Œuser32.dll ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä»Windows 8.1èµ·ï¼Œä»…ä¿ç•™&lt;strong&gt;Windowså­ç³»ç»Ÿ&lt;/strong&gt;ï¼ˆä¸å†æ”¯æŒPOSIX/OS2ç­‰æ—§å­ç³»ç»Ÿï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h4 id=&#34;ntdlldllwindows-native-apiå±‚&#34;&gt;&lt;strong&gt;NTDLL.DLLï¼ˆWindows Native APIå±‚ï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;ç”¨æˆ·æ¨¡å¼ä¸‹æœ€åº•å±‚çš„ç³»ç»Ÿç»„ä»¶ï¼Œæ ¸å¿ƒåŠŸèƒ½æœ‰ä¸¤ä¸ªã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿè°ƒç”¨æ¡¥æ¥&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å®ç°&lt;code&gt;NtCreateFile&lt;/code&gt;ã€&lt;code&gt;NtOpenProcess&lt;/code&gt;ç­‰&lt;strong&gt;Native API&lt;/strong&gt;ï¼Œé€šè¿‡&lt;code&gt;syscall&lt;/code&gt;/&lt;code&gt;sysenter&lt;/code&gt;åˆ‡æ¢åˆ°å†…æ ¸æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;æ˜¯ç”¨æˆ·æ€ä¸å†…æ ¸æ€äº¤äº’çš„&lt;strong&gt;å”¯ä¸€å…¥å£&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®ç”¨æˆ·æ€åŠŸèƒ½&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å †ç®¡ç†å™¨ï¼ˆHeap Managerï¼‰&lt;/strong&gt;ï¼šç®¡ç†è¿›ç¨‹å†…å­˜åˆ†é…ï¼ˆå¦‚&lt;code&gt;malloc&lt;/code&gt;/&lt;code&gt;free&lt;/code&gt;çš„åº•å±‚å®ç°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜ åƒåŠ è½½å™¨ï¼ˆImage Loaderï¼‰&lt;/strong&gt;ï¼šåŠ è½½DLL/EXEæ–‡ä»¶ï¼ˆè§£æPEç»“æ„ã€å¤„ç†å¯¼å…¥è¡¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·æ€çº¿ç¨‹æ± &lt;/strong&gt;ï¼šéƒ¨åˆ†çº¿ç¨‹æ± é€»è¾‘åœ¨æ­¤å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h4 id=&#34;æœåŠ¡è¿›ç¨‹service-processes&#34;&gt;&lt;strong&gt;æœåŠ¡è¿›ç¨‹ï¼ˆService Processesï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	ä¸**æœåŠ¡æ§åˆ¶ç®¡ç†å™¨ï¼ˆSCMï¼Œservices.exeï¼‰**äº¤äº’çš„ç‰¹æ®Šè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	ç”±SCMç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼ˆå¯åŠ¨ã€åœæ­¢ã€æš‚åœã€æ¢å¤ï¼‰æ¥æ”¶SCMå‘é€çš„æ§åˆ¶å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	é€šå¸¸ä»¥ä»¥ä¸‹å†…ç½®è´¦æˆ·è¿è¡Œï¼š&lt;/p&gt;
&lt;p&gt;â€‹	&lt;strong&gt;Local System&lt;/strong&gt;ï¼šæœ€é«˜æƒé™ï¼Œç­‰åŒç³»ç»Ÿå†…æ ¸ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	&lt;strong&gt;Network Service&lt;/strong&gt;ï¼šç½‘ç»œç›¸å…³æ“ä½œæƒé™ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	&lt;strong&gt;Local Service&lt;/strong&gt;ï¼šæœ¬åœ°ä½æƒé™æœåŠ¡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h4 id=&#34;æ‰§è¡Œä½“executive&#34;&gt;&lt;strong&gt;æ‰§è¡Œä½“ï¼ˆExecutiveï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;ä½äº&lt;code&gt;Ntoskrnl.exe&lt;/code&gt;ï¼ˆWindowså†…æ ¸é•œåƒï¼‰çš„ä¸Šå±‚ï¼Œæ˜¯å†…æ ¸æ¨¡å¼çš„ä¸»è¦ä»£ç è½½ä½“ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦åŒ…å« &lt;strong&gt;å¯¹è±¡ç®¡ç†å™¨ï¼ˆObject Managerï¼‰&lt;/strong&gt;ã€&lt;strong&gt;å†…å­˜ç®¡ç†å™¨ï¼ˆMemory Managerï¼‰&lt;/strong&gt;ã€&lt;strong&gt;I/Oç®¡ç†å™¨ï¼ˆI/O Managerï¼‰&lt;/strong&gt;ã€&lt;strong&gt;å³æ’å³ç”¨ç®¡ç†å™¨ï¼ˆPlug &amp;amp; Play Managerï¼‰&lt;/strong&gt;ã€&lt;strong&gt;ç”µæºç®¡ç†å™¨ï¼ˆPower Managerï¼‰&lt;/strong&gt;ã€&lt;strong&gt;é…ç½®ç®¡ç†å™¨ï¼ˆConfiguration Managerï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸æ¶‰åŠæœ€åº•å±‚ç¡¬ä»¶æ“ä½œ&lt;/strong&gt;ã€‚æä¾›ç»“æ„åŒ–æ¥å£ä¾›é©±åŠ¨ç¨‹åºè°ƒç”¨ï¼ˆå¦‚&lt;code&gt;ExAllocatePool&lt;/code&gt;å†…å­˜åˆ†é…APIï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h4 id=&#34;å†…æ ¸å±‚kernel&#34;&gt;&lt;strong&gt;å†…æ ¸å±‚ï¼ˆKernelï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	&lt;code&gt;Ntoskrnl.exe&lt;/code&gt;çš„ä¸‹å±‚ï¼Œå¤„ç†ä¸ç¡¬ä»¶ç´§å¯†äº¤äº’çš„æ ¸å¿ƒåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	&lt;strong&gt;æ ¸å¿ƒèŒè´£&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;â€‹		&lt;strong&gt;çº¿ç¨‹è°ƒåº¦&lt;/strong&gt;ï¼šæ—¶é—´ç‰‡åˆ†é…ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆé€šè¿‡&lt;code&gt;KiSwapThread&lt;/code&gt;ç­‰å‡½æ•°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;â€‹		&lt;strong&gt;ä¸­æ–­/å¼‚å¸¸å¤„ç†&lt;/strong&gt;ï¼šCPUä¸­æ–­è¯·æ±‚ï¼ˆIRQï¼‰å’Œå¼‚å¸¸çš„é¦–æ¬¡å“åº”ï¼ˆå¦‚ç¼ºé¡µå¼‚å¸¸ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;â€‹		&lt;strong&gt;åŒæ­¥åŸè¯­å®ç°&lt;/strong&gt;ï¼šè‡ªæ—‹é”ï¼ˆSpinlockï¼‰ã€äº’æ–¥ä½“ï¼ˆMutexï¼‰ã€ä¿¡å·é‡ï¼ˆSemaphoreï¼‰çš„åŸå­æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;â€‹	éƒ¨åˆ†ä»£ç ç›´æ¥ä»¥æ±‡ç¼–å®ç°ã€‚ç›´æ¥æ“ä½œCPUå¯„å­˜å™¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h4 id=&#34;è®¾å¤‡é©±åŠ¨ç¨‹åºdevice-drivers&#34;&gt;&lt;strong&gt;è®¾å¤‡é©±åŠ¨ç¨‹åºï¼ˆDevice Driversï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	åŠ¨æ€åŠ è½½çš„å†…æ ¸æ¨¡å—ï¼ˆ&lt;code&gt;.sys&lt;/code&gt;æ–‡ä»¶ï¼‰ï¼Œæ‰©å±•å†…æ ¸åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	ä»£ç è¿è¡Œåœ¨&lt;strong&gt;å†…æ ¸æ¨¡å¼&lt;/strong&gt;ï¼Œæ‹¥æœ‰ä¸ExecutiveåŒçº§çš„æƒé™ï¼ˆå¯è®¿é—®æ‰€æœ‰å†…å­˜ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	&lt;strong&gt;éœ€è¦æ³¨æ„ï¼šå¤„ç†IRPã€å†…å­˜å®‰å…¨ï¼ˆé¿å…è“å±ï¼‰ã€ä¸Executiveçš„äº¤äº’ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h4 id=&#34;win32ksyswindowså­ç³»ç»Ÿå†…æ ¸ç»„ä»¶&#34;&gt;&lt;strong&gt;Win32k.sysï¼ˆWindowså­ç³»ç»Ÿå†…æ ¸ç»„ä»¶ï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	å°†ç”¨æˆ·æ€GUIè¯·æ±‚è½¬æ¢ä¸ºå†…æ ¸æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;â€‹	&lt;strong&gt;ä¸»è¦è´Ÿè´£ï¼šçª—å£ç®¡ç†ã€å›¾å½¢æ¸²æŸ“ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;â€‹	å…¶ä»–å†…æ ¸ç»„ä»¶ï¼ˆå¦‚å†…å­˜ç®¡ç†å™¨ï¼‰å¯¹UIæ— æ„ŸçŸ¥ï¼Œé€šè¿‡Win32k.sysæŠ½è±¡äº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	ç°ä»£Windowsä¸­ï¼Œéƒ¨åˆ†åŠŸèƒ½å·²è¿ç§»è‡³&lt;strong&gt;DirectX/DWM&lt;/strong&gt;ï¼ˆæ¡Œé¢çª—å£ç®¡ç†å™¨ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h4 id=&#34;ç¡¬ä»¶æŠ½è±¡å±‚hal-hardware-abstraction-layer&#34;&gt;&lt;strong&gt;ç¡¬ä»¶æŠ½è±¡å±‚ï¼ˆHAL, Hardware Abstraction Layerï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	å±è”½ç¡¬ä»¶å·®å¼‚ï¼Œä¸ºé©±åŠ¨æä¾›ç»Ÿä¸€ç¡¬ä»¶æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	æŠ½è±¡å…³é”®ç¡¬ä»¶ç»„ä»¶ï¼šä¸­æ–­æ§åˆ¶å™¨ï¼ˆAPIC/IOAPICï¼‰ã€DMAæ§åˆ¶å™¨ã€æ—¶é’Ÿç®¡ç†ï¼ˆHPET/ACPI PM Timerï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h4 id=&#34;ç³»ç»Ÿè¿›ç¨‹system-processes&#34;&gt;&lt;strong&gt;ç³»ç»Ÿè¿›ç¨‹ï¼ˆSystem Processesï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;ç»´æŒOSæ ¸å¿ƒåŠŸèƒ½çš„åŸç”Ÿè¿›ç¨‹ï¼Œç‰¹ç‚¹åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»…ä¾èµ–NTAPIï¼ˆä¸è°ƒç”¨&lt;code&gt;kernel32.dll&lt;/code&gt;ç­‰å­ç³»ç»ŸAPIï¼‰&lt;/li&gt;
&lt;li&gt;å¤šæ•°ä»¥&lt;code&gt;SYSTEM&lt;/code&gt;æƒé™è¿è¡Œ&lt;/li&gt;
&lt;li&gt;ç»ˆæ­¢ä¼šå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆè“å±ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h4 id=&#34;å­ç³»ç»Ÿè¿›ç¨‹subsystem-process&#34;&gt;&lt;strong&gt;å­ç³»ç»Ÿè¿›ç¨‹ï¼ˆSubsystem Processï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	Windowså­ç³»ç»Ÿï¼ˆå”¯ä¸€ç°å­˜å­ç³»ç»Ÿï¼‰çš„&lt;strong&gt;ç”¨æˆ·æ€ç®¡ç†è¿›ç¨‹&lt;/strong&gt;ï¼ŒååŠ©å†…æ ¸ç®¡ç†å­ç³»ç»Ÿç›¸å…³åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	è´Ÿè´£è¿›ç¨‹/çº¿ç¨‹çš„&lt;strong&gt;å­ç³»ç»Ÿçº§åˆå§‹åŒ–&lt;/strong&gt;ã€&lt;strong&gt;æ§åˆ¶å°æ”¯æŒ&lt;/strong&gt;ï¼ˆå¦‚&lt;code&gt;cmd.exe&lt;/code&gt;ï¼‰å’Œ&lt;strong&gt;å¼‚å¸¸å¤„ç†è½¬å‘&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	Csrss.exeæ˜¯Windowså­ç³»ç»Ÿçš„â€œç”¨æˆ·æ€ç®¡å®¶â€ï¼Œ&lt;strong&gt;æ¯ä¼šè¯ç‹¬ç«‹è¿è¡Œ&lt;/strong&gt;ï¼Œå´©æºƒä¼šå¯¼è‡´ç³»ç»Ÿè“å±ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç¨³å®šæ€§çš„å…³é”®ç»„ä»¶ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hyper-V ç®¡ç†ç¨‹åºä¸åŸºäºè™šæ‹ŸåŒ–çš„å®‰å…¨æ€§ï¼ˆHyper-V Hypervisorï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	Hyper-V ç®¡ç†ç¨‹åºåœ¨æ”¯æŒè™šæ‹ŸåŒ–å®‰å…¨ï¼ˆVBSï¼‰çš„ Windows ç³»ç»Ÿä¸­è¿è¡Œï¼Œå°†å¸¸è§„æ“ä½œç³»ç»Ÿä½œä¸ºè™šæ‹Ÿæœºç®¡ç†ï¼Œå¹¶é€šè¿‡ä¸¤ä¸ªè™šæ‹Ÿä¿¡ä»»çº§åˆ«ï¼ˆVTLï¼‰å¢å¼ºå®‰å…¨æ€§â€”â€”VTL 0 è¿è¡Œæ™®é€šç³»ç»Ÿå’Œå†…æ ¸ï¼Œè€Œ VTL 1 è¿è¡Œå®‰å…¨å†…æ ¸å’Œéš”ç¦»ç”¨æˆ·æ¨¡å¼ï¼Œä¸ºå…³é”®å®‰å…¨åŠŸèƒ½æä¾›ç¡¬ä»¶çº§é˜²æŠ¤ã€‚è¿™ç§æ¶æ„èƒ½æœ‰æ•ˆé˜²å¾¡å†…æ ¸æ”»å‡»ï¼Œä½†éœ€è¦ç‰¹å®šç¡¬ä»¶æ”¯æŒå¹¶å¯èƒ½ç•¥å¾®å½±å“æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;handles-and-objects&#34;&gt;Handles and Objects
&lt;/h2&gt;&lt;p&gt;â€‹	Windowså†…æ ¸é€šè¿‡å¯¹è±¡ç®¡ç†å™¨ä¸ºç”¨æˆ·æ€è¿›ç¨‹ã€å†…æ ¸è‡ªèº«åŠé©±åŠ¨æä¾›å¤šç§å†…æ ¸å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡æœ¬è´¨æ˜¯ç³»ç»Ÿåœ°å€ç©ºé—´ä¸­çš„æ•°æ®ç»“æ„ï¼Œä½¿ç”¨Object manager åˆ›å»ºï¼Œé‡‡ç”¨å¼•ç”¨è®¡æ•°æœºåˆ¶ç®¡ç†ç”Ÿå‘½å‘¨æœŸâ€”â€”ä»…å½“æœ€åä¸€ä¸ªå¼•ç”¨é‡Šæ”¾æ—¶å¯¹è±¡æ‰ä¼šè¢«é”€æ¯å¹¶é‡Šæ”¾å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆæ³¨ï¼šå†…æ ¸å¯¹è±¡åŒ…æ‹¬æ–‡ä»¶ã€çº¿ç¨‹ã€äº‹ä»¶ç­‰ç±»å‹ï¼Œç”±ç”¨æˆ·æ€APIæˆ–å†…æ ¸ä»£ç å‘èµ·åˆ›å»ºè¯·æ±‚åï¼Œç”±æ‰§è¡Œä½“ä¸­çš„å¯¹è±¡ç®¡ç†å™¨ç»Ÿä¸€æ„é€ å’Œç®¡ç†ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;â€‹	ç”±äºè¿™äº›å¯¹è±¡å®ä¾‹é©»ç•™åœ¨ç³»ç»Ÿç©ºé—´ï¼ˆå†…æ ¸å†…å­˜ï¼‰ï¼Œç”¨æˆ·æ¨¡å¼ä»£ç æ— æ³•ç›´æ¥è®¿é—®å®ƒä»¬ï¼Œå¿…é¡»é€šè¿‡ä¸€ç§é—´æ¥è®¿é—®æœºåˆ¶â€”â€”**å¥æŸ„ï¼ˆhandleï¼‰**æ¥å®ç°ã€‚å¥æŸ„æœ¬è´¨ä¸Šæ˜¯ &lt;strong&gt;è¿›ç¨‹ç§æœ‰å¥æŸ„è¡¨&lt;/strong&gt;ï¼ˆå­˜å‚¨äºå†…æ ¸ç©ºé—´ï¼‰çš„ç´¢å¼•é¡¹ï¼Œè¯¥è¡¨æ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹ç»´æŠ¤ï¼Œé€šè¿‡å¥æŸ„è¡¨ä¸­çš„æ¡ç›®æœ€ç»ˆæŒ‡å‘ç³»ç»Ÿç©ºé—´ä¸­çš„å†…æ ¸å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	ä¾‹å¦‚ï¼šç”¨æˆ·æ¨¡å¼å‡½æ•°&lt;code&gt;CreateMutex&lt;/code&gt;å…è®¸åˆ›å»ºæˆ–æ‰“å¼€äº’æ–¥ä½“å¯¹è±¡ï¼ˆæ ¹æ®è¯¥å‘½åå¯¹è±¡æ˜¯å¦å­˜åœ¨è€Œå®šï¼‰ã€‚è‹¥æ“ä½œæˆåŠŸï¼Œå‡½æ•°å°†è¿”å›è¯¥å¯¹è±¡çš„æœ‰æ•ˆå¥æŸ„ï¼›è¿”å›å€¼ä¸ºé›¶åˆ™è¡¨ç¤ºæ— æ•ˆå¥æŸ„ï¼ˆå³å‡½æ•°è°ƒç”¨å¤±è´¥ï¼‰ã€‚è€Œ&lt;code&gt;OpenMutex&lt;/code&gt;å‡½æ•°åˆ™å°è¯•æ‰“å¼€å·²å‘½åçš„äº’æ–¥ä½“å¥æŸ„â€”â€”è‹¥æŒ‡å®šåç§°çš„äº’æ–¥ä½“ä¸å­˜åœ¨ï¼Œå‡½æ•°å°†è¿”å›ç©ºå€¼ï¼ˆ0ï¼‰è¡¨ç¤ºæ“ä½œå¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å†…æ ¸ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Handle ä¹Ÿå¯ä»¥ ç›´æ¥é€šè¿‡æŒ‡é’ˆè®¿é—® Objectï¼Œå…·ä½“é€‰æ‹©é€šå¸¸å–å†³äº è°ƒç”¨çš„ API ç±»å‹ã€‚æŸäº›æƒ…å†µä¸‹ï¼Œå½“é©±åŠ¨ç¨‹åºéœ€è¦å°†ç”¨æˆ·æ¨¡å¼ä¼ é€’æ¥çš„å¥æŸ„è½¬æ¢ä¸ºæœ‰æ•ˆæŒ‡é’ˆæ—¶ï¼Œå¿…é¡»è°ƒç”¨&lt;code&gt;ObReferenceObjectByHandle&lt;/code&gt;å‡½æ•°æ¥å®Œæˆè½¬æ¢ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¥æŸ„å€¼æ˜¯4çš„å€æ•°ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªæœ‰æ•ˆå¥æŸ„ä¸º4ï¼›ä¸”0ä¸ºæ— æ•ˆå¥æŸ„ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é˜²æ‚¬å‚æŒ‡é’ˆ&lt;/strong&gt;
å³ä½¿ç”¨æˆ·æ€æŒæœ‰è€…å…³é—­äº†å¥æŸ„ï¼Œå†…æ ¸ä»£ç æŒæœ‰çš„æŒ‡é’ˆä»èƒ½å®‰å…¨è®¿é—®å¯¹è±¡â€”â€”å› ä¸ºå¼•ç”¨è®¡æ•°ä¿è¯äº†å¯¹è±¡å­˜æ´»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜¾å¼é‡Šæ”¾è´£ä»»&lt;/strong&gt;
å†…æ ¸ä»£ç å¿…é¡»é€šè¿‡&lt;code&gt;ObDereferenceObject&lt;/code&gt;é€’å‡å¼•ç”¨è®¡æ•°ï¼Œå¦åˆ™ä¼šå¯¼è‡´&lt;strong&gt;èµ„æºæ³„æ¼&lt;/strong&gt;ï¼ˆè¯¥æ³„æ¼ä»…èƒ½é€šè¿‡ç³»ç»Ÿé‡å¯å›æ”¶ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºå†…æ ¸å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œä¸»è¦Object Manager ç»´æŠ¤äº†ä¸¤ä¸ªå…³é”®æŠ€æœ¯ï¼šå¥æŸ„è®¡æ•° å’Œ æ€»å¼•ç”¨è®¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å½“å¯¹è±¡ä¸å†éœ€è¦æ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·æ€ç¨‹åº&lt;/strong&gt;åº”è°ƒç”¨&lt;code&gt;CloseHandle&lt;/code&gt;å…³é—­å¥æŸ„&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…æ ¸æ€ä»£ç &lt;/strong&gt;éœ€è°ƒç”¨&lt;code&gt;ObDereferenceObject&lt;/code&gt;é€’å‡å¼•ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ­¤åï¼Œå¿…é¡»è§†è¯¥å¥æŸ„/æŒ‡é’ˆä¸º&lt;strong&gt;æ°¸ä¹…å¤±æ•ˆçŠ¶æ€&lt;/strong&gt;ã€‚å½“å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å½’é›¶æ—¶ï¼Œå¯¹è±¡ç®¡ç†å™¨å°†è‡ªåŠ¨é”€æ¯è¯¥å¯¹è±¡å¹¶å›æ”¶å…¶å†…å­˜èµ„æºã€‚&lt;/p&gt;
&lt;h2 id=&#34;object-names&#34;&gt;Object Names
&lt;/h2&gt;&lt;p&gt;å¯¹è±¡åˆ†ä¸ºï¼šæ— åå¯¹è±¡  å’Œ å‘½åå¯¹è±¡&lt;/p&gt;
&lt;p&gt;å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½æ”¯æŒå‘½åï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹/çº¿ç¨‹å¯¹è±¡ä»…é€šè¿‡æ•°å­—IDæ ‡è¯†ï¼ˆæ•… OpenProcess/OpenThread éœ€ä¼ å…¥è¿›ç¨‹/çº¿ç¨‹IDï¼‰&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶å¯¹è±¡åç§° â‰  å†…æ ¸å¯¹è±¡åç§°ï¼ˆäºŒè€…å±äºä¸åŒç»´åº¦çš„æ ‡è¯†ä½“ç³»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‘½åå¯¹è±¡å…·å¤‡è·¨è¿›ç¨‹å…±äº«èƒ½åŠ›ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘½åäº’æ–¥ä½“ï¼ˆMutexï¼‰å¯ç”¨äºè¿›ç¨‹é—´åŒæ­¥&lt;/li&gt;
&lt;li&gt;å‘½åäº‹ä»¶ï¼ˆEventï¼‰å…è®¸ä¸åŒè¿›ç¨‹ç›‘å¬åŒä¸€ä¿¡å·&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ç”¨æˆ·æ¨¡å¼ä»£ç ä¸­ï¼Œè°ƒç”¨å¸¦æœ‰åç§°å‚æ•°çš„ Create ç³»åˆ—å‡½æ•°ï¼ˆå¦‚ CreateMutexï¼‰æ—¶ï¼Œç³»ç»Ÿä¼šéµå¾ªä»¥ä¸‹è¡Œä¸ºè§„åˆ™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¯¹è±¡ä¸å­˜åœ¨æ—¶&lt;/strong&gt;
å‡½æ•°ä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªå…¨æ–°å‘½åå¯¹è±¡çš„å¥æŸ„&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯¹è±¡å·²å­˜åœ¨æ—¶&lt;/strong&gt;
å‡½æ•°ä¸ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œæ˜¯ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;è¿”å›æŒ‡å‘ç°æœ‰å¯¹è±¡çš„å¦ä¸€ä¸ªæœ‰æ•ˆå¥æŸ„&lt;/li&gt;
&lt;li&gt;é€šè¿‡ GetLastError() è¿”å› ERROR_ALREADY_EXISTSï¼ˆé”™è¯¯ç  183ï¼‰&lt;/li&gt;
&lt;li&gt;å¼•ç”¨è®¡æ•°ä¼šå¢åŠ ï¼Œä½†ä¸ä¼šé‡å¤åˆ›å»ºåŒåå¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨ WinObj å¯ä»¥æŸ¥çœ‹å¯¹åº”çš„ Object å¯¹è±¡&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://learn.microsoft.com/zh-cn/sysinternals/downloads/winobj&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;WinObj - Sysinternals | Microsoft Learn&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ç®¡ç†å‘˜æ‰“å¼€&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250422222305950.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250422222305950&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ™®é€šä¼šè¯è¿›ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åç§°ä¼šè¢«æ·»åŠ  &lt;code&gt;\Sessions\&amp;lt;ä¼šè¯ID&amp;gt;\BaseNamedObjects\&lt;/code&gt; å‰ç¼€&lt;/p&gt;
&lt;p&gt;ä¼šè¯0ï¼ˆæœåŠ¡ä¼šè¯ï¼‰çš„å¯¹è±¡ç›´æ¥ä½¿ç”¨ &lt;code&gt;\BaseNamedObjects\&lt;/code&gt; å‰ç¼€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AppContainer è¿›ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;\Sessions\&amp;lt;ä¼šè¯ID&amp;gt;\AppContainerNamedObjects\{AppContainerSID}\&amp;lt;/ä¼šè¯ID&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250422222707225.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250422222707225&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è¿›ç¨‹å¥æŸ„ä¹Ÿå¯ä»¥ä½¿ç”¨ process explorer è¿›è¡ŒæŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/image-20250422223255629.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20250422223255629&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;accessing-existing-objects&#34;&gt;Accessing Existing Objects
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;è‹¥è¦é€šè¿‡å¥æŸ„ç»ˆæ­¢è¿›ç¨‹ï¼Œè°ƒç”¨&lt;code&gt;OpenProcess&lt;/code&gt;æ—¶å¿…é¡»åŒ…å«è‡³å°‘&lt;code&gt;PROCESS_TERMINATE&lt;/code&gt;æƒé™ä½&lt;/li&gt;
&lt;li&gt;æˆåŠŸè·å–æ­¤ç±»å¥æŸ„åï¼Œåç»­è°ƒç”¨&lt;code&gt;TerminateProcess&lt;/code&gt;å¿…ç„¶æˆåŠŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;KillProcess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DWORD&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// open a powerful-enough handle to the process
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;HANDLE&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hProcess&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OpenProcess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PROCESS_TERMINATE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hProcess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// now kill it with some arbitrary exit code
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;BOOL&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;success&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TerminateProcess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hProcess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// close the handle
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;CloseHandle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hProcess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;success&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>å½’æ¡£</title>
        <link>https://example.com/archives/</link>
        <pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/archives/</guid>
        <description></description>
        </item>
        <item>
        <title>å…³äº</title>
        <link>https://example.com/%E5%85%B3%E4%BA%8E/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/%E5%85%B3%E4%BA%8E/</guid>
        <description>&lt;h1 id=&#34;è‡ªæˆ‘ä»‹ç»&#34;&gt;è‡ªæˆ‘ä»‹ç»
&lt;/h1&gt;&lt;h2 id=&#34;åŸºæœ¬ä¿¡æ¯&#34;&gt;åŸºæœ¬ä¿¡æ¯
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ID&lt;/strong&gt;: 0xC4m3l&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;: å®‰å…¨å»ºè®¾ï¼ˆSecurity Engineeringï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å½“å‰ç›®æ ‡&lt;/strong&gt;: ç³»ç»ŸåŒ–å­¦ä¹ ç»ˆç«¯å®‰å…¨é˜²æŠ¤æŠ€æœ¯ï¼Œèšç„¦EDRç›¸å…³é¢†åŸŸ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;notionç¬”è®°&lt;/strong&gt;ï¼š &lt;a class=&#34;link&#34; href=&#34;https://0xc4ml.notion.site/58c2330d1cbe4c87b7db443159a3c02e?pvs=4&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://0xc4ml.notion.site/58c2330d1cbe4c87b7db443159a3c02e?pvs=4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å­¦ä¹ è§„åˆ’&#34;&gt;å­¦ä¹ è§„åˆ’
&lt;/h2&gt;&lt;h3 id=&#34;-çŸ¥è¯†ä½“ç³»æ„å»º&#34;&gt;ğŸ“š çŸ¥è¯†ä½“ç³»æ„å»º
&lt;/h3&gt;&lt;p&gt;[] windows å®‰å…¨å­¦ä¹ &lt;/p&gt;
&lt;h2 id=&#34;äº¤æµè”ç³»&#34;&gt;äº¤æµè”ç³»
&lt;/h2&gt;&lt;p&gt;wechat: c4m3l_joyful&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æœç´¢</title>
        <link>https://example.com/search/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/search/</guid>
        <description></description>
        </item>
        <item>
        <title>å‹æƒ…é“¾æ¥</title>
        <link>https://example.com/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/</guid>
        <description>&lt;p&gt;To use this feature, add &lt;code&gt;links&lt;/code&gt; section to frontmatter.&lt;/p&gt;
&lt;p&gt;This page&amp;rsquo;s frontmatter:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;links&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;GitHub&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;GitHub is the world&amp;#39;s largest software development platform.&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;website&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://github.com&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;TypeScript&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;website&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://www.typescriptlang.org&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ts-logo-128.jpg&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;image&lt;/code&gt; field accepts both local and external images.&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
